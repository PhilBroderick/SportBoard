@model List<SportBoard.Data.DAL.UserNotification>
@{
    ViewBag.Title = "Index";
}

<h2>Inbox</h2>
<div class="col-md-12">
    <div id="notificationfilterOptions">
        <ul class="nav nav-tabs">
            <li role="presentation" class="All active"><a href="#">All</a></li>
            <li role="presentation" class="Posts"><a href="#">Posts</a></li>
            <li role="presentation" class="Comments"><a href="#">Comments</a></li>
            <li role="presentation" class="DeletionRequests"><a href="#">Deletion Requests</a></li>
            <li role="presentation" class="DeletionResponses"><a href="#">Deletion Responses</a></li>
        </ul>
    </div>
</div>

<div class="col-md-12">
    <div class="notificationView">
        @Html.Partial("UserNotifications", Model)
    </div>
</div>

@section Scripts {

    <script>
        $(document).ready(function () {
            $('#filterOptions li').on("click", function () {
                removeActive();
                $(this).toggleClass('active');
                var selection = $(this).text();
                var linkUrl = '@Url.Action("FilterNotifications", "UserNotification", new { filterOption = "-1" })';
                linkUrl = linkUrl.replace("-1", selection);

                $.ajax({
                    url: linkUrl,
                    type: "GET",
                    dataType: "html",
                    success: function (data) {
                        $('.notificationView').html(data);
                    }
                });
            })

            function removeActive() {
                var kids = $('#filterOptions').find('li');
                kids.removeClass('active');
            }
            
        });
    </script>
}